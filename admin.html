<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - TVT Quay L√† D√≠nh</title>
    <style>
        :root { --gold: #FFD700; --bg: #0A0A0A; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: white; margin: 0; padding: 20px; display: flex; justify-content: center; }
        .admin-card { background: #151515; padding: 25px; border-radius: 20px; border: 1px solid var(--gold); width: 100%; max-width: 480px; box-shadow: 0 0 30px rgba(0,0,0,0.5); box-sizing: border-box; }
        h2 { color: var(--gold); text-align: center; text-transform: uppercase; margin-bottom: 20px; font-size: 1.3rem; letter-spacing: 1px; }
        label { display: block; margin-top: 15px; font-size: 0.85rem; color: #aaa; font-weight: bold; }
        textarea, input { width: 100%; padding: 12px; margin-top: 5px; background: #000; border: 1px solid #333; color: white; border-radius: 8px; box-sizing: border-box; font-size: 1rem; }
        .btn-group { display: flex; flex-direction: column; gap: 10px; margin-top: 25px; }
        .btn { padding: 14px; border: none; border-radius: 10px; font-weight: bold; cursor: pointer; text-transform: uppercase; transition: 0.3s; text-decoration: none; text-align: center; font-size: 0.9rem; }
        .btn-update { background: #28a745; color: white; }
        .btn-save { background: var(--gold); color: #000; }
        .btn-reset { background: #ff4444; color: white; }
        .btn-back { background: transparent; color: var(--gold); border: 1px solid var(--gold); }
        .btn:hover { opacity: 0.9; transform: translateY(-2px); }
    </style>
</head>
<body>
    <div class="admin-card">
        <h2>‚öôÔ∏è QU·∫¢N TR·ªä TVT</h2>
        
        <label>1. DANH S√ÅCH QUAY (M·ªói d√≤ng 1 m√≥n):</label>
        <textarea id="listInput" rows="5" placeholder="Nh·∫≠p t√™n nh√¢n vi√™n ho·∫∑c qu√† nh·ªè..."></textarea>

        <label style="color:var(--gold)">2. QU√Ä T·∫∂NG HI·ªÜN T·∫†I (Hi·ªÉn th·ªã n·ªïi b·∫≠t):</label>
        <input type="text" id="giftInput" placeholder="V√≠ d·ª•: 01 Ch·ªâ V√†ng SJC">

        <label>3. LOGO T√ÇM V√íNG QUAY:</label>
        <input type="file" id="logoInput" accept="image/*">

        <label>4. H√åNH N·ªÄN ·ª®NG D·ª§NG:</label>
        <input type="file" id="bgInput" accept="image/*">

        <div class="btn-group">
            <button class="btn btn-update" onclick="updateListAndGift()">üìù C·∫≠p nh·∫≠t Danh s√°ch & Qu√†</button>
            <button class="btn btn-save" onclick="saveAllSettings()">üöÄ L∆∞u t·∫•t c·∫£ c√†i ƒë·∫∑t</button>
            <button class="btn" style="background:#333; color:white;" onclick="clearHistory()">üóë X√≥a l·ªãch s·ª≠ vinh danh</button>
            <button class="btn btn-reset" onclick="resetApp()">‚ö†Ô∏è XO√Å C√ÄI ƒê·∫∂T (G·ªêC)</button>
            <a href="index.html" class="btn btn-back">‚¨Ö V·ªÅ trang V√≤ng Quay</a>
        </div>
    </div>

    <script>
        window.onload = () => {
            document.getElementById('listInput').value = localStorage.getItem('tvt_items') || "Gi·∫£i Nh·∫•t\nGi·∫£i Nh√¨\nGi·∫£i Ba\nMay M·∫Øn";
            document.getElementById('giftInput').value = localStorage.getItem('tvt_current_gift') || "";
        };

        function updateListAndGift() {
            localStorage.setItem('tvt_items', document.getElementById('listInput').value);
            localStorage.setItem('tvt_current_gift', document.getElementById('giftInput').value);
            localStorage.setItem('tvt_refresh_trigger', Date.now());
            alert("ƒê√£ c·∫≠p nh·∫≠t danh s√°ch v√† qu√† t·∫∑ng!");
        }

        function saveAllSettings() {
            updateListAndGift();
            const processFile = (id, key) => {
                const file = document.getElementById(id).files[0];
                if (file) {
                    const r = new FileReader();
                    r.onload = (e) => localStorage.setItem(key, e.target.result);
                    r.readAsDataURL(file);
                }
            };
            processFile('logoInput', 'tvt_logo');
            processFile('bgInput', 'tvt_bg');
            setTimeout(() => {
                localStorage.setItem('tvt_refresh_trigger', Date.now());
                alert("ƒê√£ l∆∞u to√†n b·ªô c√†i ƒë·∫∑t!");
            }, 600);
        }

        function clearHistory() {
            if (confirm("X√≥a to√†n b·ªô danh s√°ch ƒë√£ tr√∫ng th∆∞·ªüng?")) {
                localStorage.removeItem('tvt_history');
                localStorage.setItem('tvt_clear_trigger', Date.now());
                alert("ƒê√£ xo√° l·ªãch s·ª≠!");
            }
        }

        function resetApp() {
            if (confirm("Kh√¥i ph·ª•c c√†i ƒë·∫∑t g·ªëc c·ªßa h·ªá th·ªëng?")) {
                localStorage.clear();
                localStorage.setItem('tvt_refresh_trigger', Date.now());
                location.reload();
            }
        }
    </script>
</body>
</html>
